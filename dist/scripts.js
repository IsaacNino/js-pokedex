let pokemonRepository=function(){let e=[];function t(t){"object"==typeof t&&"name"in t&&e.push(t)}function n(){return e}function i(e){pokemonRepository.loadDetails(e).then(function(){let t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body");t.innerHTML="",n.innerHTML="";document.querySelector(".modal-title").innerText=e.name.charAt(0).toUpperCase()+e.name.slice(1);let o=document.createElement("div");o.classList.add("modal-text");let a=document.createElement("img");a.classList.add("sprite"),a.src=e.imageUrl;let l=document.createElement("p");l.innerText="Height: "+e.height/10+"m";let r=document.createElement("p");r.innerText="Types: "+e.types;let s=document.createElement("p");s.innerText="Abilities: "+e.abilities,n.appendChild(a),n.appendChild(o),o.appendChild(l),o.appendChild(r),o.appendChild(s),window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&hideModal()}),t.addEventListener("click",e=>{e.target===modalContainer&&hideModal()}),document.querySelector(".pokemon-button").addEventListener("click",()=>{i("Modal Body","Modal Text")})})}return{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector(".pokemon-list"),o=document.createElement("li"),a=document.createElement("button");a.innerText=t.name,a.classList.add("pokemon-button"),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#exampleModal"),o.appendChild(a),o.classList.add("group-list-item"),n.appendChild(o),a.addEventListener("click",function(e){i(t)})},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types;let n=[];e.types.forEach(function(e){n.push(e.type.name)}),t.types=n.join(", ");let i=[];e.abilities.forEach(function(e){i.push(e.ability.name)}),t.abilities=i.join(", ")}).catch(function(e){console.error(e)})},showDetails:i}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});